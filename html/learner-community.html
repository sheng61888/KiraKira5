<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MathPath - Community</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/learner.css">
</head>

<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <img src="/images/logo transparent.png" alt="KiraKira logo">
      </div>

      <div class="profile">
        <div class="username" aria-live="polite">Loading learner...</div>
        <div class="avatar" aria-hidden="true"></div>
        <div class="streak" aria-live="polite">Syncing streak...</div>
        <div class="xp-bar"><span style="width:0%"></span></div>
        <small aria-live="polite">Level updating - 0 XP</small>
      </div>

      <nav class="nav" aria-label="Learner navigation">
        <a href="learner-home.html">Dashboard</a>
        <a href="learner-progress.html">Progress</a>
        <a href="learner-pastyears.html">Past Papers</a>
        <a href="learner-classes.html">Classes</a>
        <a href="learner-community.html" aria-current="page">Community</a>
        <a href="learner-profile.html">Profile</a>
      </nav>
    </aside>

    <!-- Main -->
    <main class="main">
      <header class="page-heading">
        <div>
          <p class="eyebrow">Community hub</p>
          <h1>Share wins, ask for help, build your crew</h1>
          <p>Start or join any conversation. Coaches pop in daily, so no question goes unanswered.</p>
        </div>
        <div class="heading-actions">
          <button class="btn btn--ghost" type="button">Community guidelines</button>
          <button class="btn btn--primary" type="button" data-scroll="#conversationForm">Create new thread</button>
        </div>
      </header>

      <section class="card community-welcome">
        <div>
          <h2>Weekly spotlight</h2>
          <p class="muted">"I finally understood probability trees thanks to this forum. Drop your confusions—we'll untangle them together!" — <strong>Min</strong></p>
        </div>
        <div class="community-cta">
          <strong>Need a study buddy?</strong>
          <p>Tag your form & topic. We'll match you in minutes.</p>
          <button class="btn btn--primary" type="button">Find teammates</button>
        </div>
      </section>

      <section class="community-layout">
        <article class="card discussion-feed">
          <div class="section-head">
            <div>
              <p class="eyebrow">Live conversations</p>
              <h2>Forum threads</h2>
            </div>
            <div class="community-filters" id="communityFilters">
              <button class="chip chip--info" type="button" data-category="">All topics</button>
              <button class="chip" type="button" data-category="Form 4">Form 4</button>
              <button class="chip" type="button" data-category="Form 5">Form 5</button>
              <button class="chip" type="button" data-category="Study tips">Study tips</button>
              <button class="chip" type="button" data-category="Help needed">Help needed</button>
            </div>
          </div>

          <ul class="thread-list" id="threadList" aria-live="polite">
            <li class="thread-item">
              <div>
                <p class="muted">Loading conversations...</p>
              </div>
            </li>
          </ul>
          <div class="thread-status" id="threadStatus" role="status"></div>
          <button class="btn btn--ghost" type="button" id="loadMoreThreads" hidden>Load more</button>
        </article>

        <aside class="community-sidebar">
          <article class="card conversation-form">
            <div class="section-head">
              <div>
                <p class="eyebrow">New thread</p>
                <h2>Start a conversation</h2>
              </div>
            </div>
            <form id="conversationForm">
              <label>
                Topic
                <input type="text" name="topic" placeholder="e.g., Quadratic intuition" required>
              </label>
              <label>
                Category
                <select name="category">
                  <option>Form 4</option>
                  <option>Form 5</option>
                  <option>Study tips</option>
                  <option>Motivation</option>
                  <option>Help needed</option>
                </select>
              </label>
              <label>
                Tag (optional)
                <input type="text" name="tag" placeholder="#algebra-sos">
              </label>
              <label>
                Message
                <textarea name="message" rows="4" placeholder="What do you want to discuss?" required></textarea>
              </label>
              <button class="btn btn--primary" type="submit">Post to community</button>
            </form>
          </article>

          <article class="card community-topics">
            <div class="section-head">
              <div>
                <p class="eyebrow">Trending tags</p>
                <h2>Jump into these</h2>
              </div>
            </div>
            <div class="topic-chip-grid" id="trendingTags" aria-live="polite">
              <span class="topic-chip">#loading</span>
            </div>
          </article>
        </aside>
      </section>
    </main>
  </div>

  <script src="../js/learner-session.js"></script>
  <script src="../js/learner-shell.js"></script>
  <script src="../js/learner-community.js"></script>
</body>
</html>


